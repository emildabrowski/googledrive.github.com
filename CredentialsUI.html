<link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>

<style>
    .sidebar-padding {
      padding: 10px;
    }
    .left-margin {
      margin-left: 10px;
    }    
</style>

<script>

    $(document).ready(function() {
   
      $('#submit').click(function(){
        $('#credentialForm').hide();
        google.script.run.withSuccessHandler(submissionSucceeded).withFailureHandler(handleError).setCredentials($('#user').val(),$("#password").val());
      });
  
    });

    function handleError(e){
     alert(e);
     submissionSucceeded();
    }

    function submissionSucceeded(){
      google.script.host.close();
    }

    
    function cancel() {
     google.script.host.close();
    }
    
</script>


<form id=credentialForm>
   <div class="left-margin sidebar-padding">
      <div class=control-group>
      <label class=control-label for=user>User:</label>
      <div class=controls><input id="user" class=input-large name=user type=text value="<?= user ?>"></div>
      </div> 
      <div class=control-group>
      <label class=control-label for=password>Password:</label>
      <div class=controls><input id="password" class=input-large name=password type=text value="<?= password ?>"></div>
      </div> 
     <br><br><br>
        <div class="form-actions"> 
            <button id=submit name=submit class="action" type=submit>Submit</button>   
            <button id=cancel name=cancel type=button onclick=cancel()>Cancel</button>   
        </div>
  </div>
</form>
